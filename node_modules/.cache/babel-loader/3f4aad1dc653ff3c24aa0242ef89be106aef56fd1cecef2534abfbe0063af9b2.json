{"ast":null,"code":"const handleGridClick = (gx, gy) => {\n  const key = `${gx},${gy}`;\n  setGridMap(prev => {\n    const cell = prev[key] || {\n      places: [],\n      objects: [],\n      robots: []\n    };\n\n    /* ===== PLACE ===== */\n    if (mode === \"place\") {\n      const name = prompt(\"place name?\");\n      if (!name) return prev;\n      const placeEntity = {\n        id: name,\n        type: \"place\",\n        explicit: {\n          grid: {\n            x: gx,\n            y: gy\n          }\n        },\n        implicit: {},\n        symbolic: {\n          label: name\n        }\n      };\n      return {\n        ...prev,\n        [key]: {\n          ...cell,\n          places: [...cell.places, placeEntity]\n        }\n      };\n    }\n\n    /* ===== OBJECT ===== */\n    if (mode === \"object\") {\n      if (cell.places.length === 0) {\n        alert(\"place 먼저 지정해야 함\");\n        return prev;\n      }\n      const id = prompt(\"object id?\");\n      const type = prompt(\"object type?\");\n      if (!id || !type) return prev;\n      const objectEntity = {\n        id,\n        type,\n        explicit: {\n          grid: {\n            x: gx,\n            y: gy\n          }\n        },\n        implicit: {},\n        symbolic: {\n          label: type\n        }\n      };\n      return {\n        ...prev,\n        [key]: {\n          ...cell,\n          objects: [...cell.objects, objectEntity]\n        }\n      };\n    }\n    return prev;\n  });\n};","map":{"version":3,"names":["handleGridClick","gx","gy","key","setGridMap","prev","cell","places","objects","robots","mode","name","prompt","placeEntity","id","type","explicit","grid","x","y","implicit","symbolic","label","length","alert","objectEntity"],"sources":["/home/n/semantic_map_ui/src/App.js"],"sourcesContent":["const handleGridClick = (gx, gy) => {\n  const key = `${gx},${gy}`;\n\n  setGridMap((prev) => {\n    const cell = prev[key] || {\n      places: [],\n      objects: [],\n      robots: []\n    };\n\n    /* ===== PLACE ===== */\n    if (mode === \"place\") {\n      const name = prompt(\"place name?\");\n      if (!name) return prev;\n\n      const placeEntity = {\n        id: name,\n        type: \"place\",\n\n        explicit: {\n          grid: { x: gx, y: gy }\n        },\n\n        implicit: {},\n\n        symbolic: {\n          label: name\n        }\n      };\n\n      return {\n        ...prev,\n        [key]: {\n          ...cell,\n          places: [...cell.places, placeEntity]\n        }\n      };\n    }\n\n    /* ===== OBJECT ===== */\n    if (mode === \"object\") {\n      if (cell.places.length === 0) {\n        alert(\"place 먼저 지정해야 함\");\n        return prev;\n      }\n\n      const id = prompt(\"object id?\");\n      const type = prompt(\"object type?\");\n      if (!id || !type) return prev;\n\n      const objectEntity = {\n        id,\n        type,\n\n        explicit: {\n          grid: { x: gx, y: gy }\n        },\n\n        implicit: {},\n\n        symbolic: {\n          label: type\n        }\n      };\n\n      return {\n        ...prev,\n        [key]: {\n          ...cell,\n          objects: [...cell.objects, objectEntity]\n        }\n      };\n    }\n\n    return prev;\n  });\n};\n"],"mappings":"AAAA,MAAMA,eAAe,GAAGA,CAACC,EAAE,EAAEC,EAAE,KAAK;EAClC,MAAMC,GAAG,GAAG,GAAGF,EAAE,IAAIC,EAAE,EAAE;EAEzBE,UAAU,CAAEC,IAAI,IAAK;IACnB,MAAMC,IAAI,GAAGD,IAAI,CAACF,GAAG,CAAC,IAAI;MACxBI,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,MAAM,EAAE;IACV,CAAC;;IAED;IACA,IAAIC,IAAI,KAAK,OAAO,EAAE;MACpB,MAAMC,IAAI,GAAGC,MAAM,CAAC,aAAa,CAAC;MAClC,IAAI,CAACD,IAAI,EAAE,OAAON,IAAI;MAEtB,MAAMQ,WAAW,GAAG;QAClBC,EAAE,EAAEH,IAAI;QACRI,IAAI,EAAE,OAAO;QAEbC,QAAQ,EAAE;UACRC,IAAI,EAAE;YAAEC,CAAC,EAAEjB,EAAE;YAAEkB,CAAC,EAAEjB;UAAG;QACvB,CAAC;QAEDkB,QAAQ,EAAE,CAAC,CAAC;QAEZC,QAAQ,EAAE;UACRC,KAAK,EAAEX;QACT;MACF,CAAC;MAED,OAAO;QACL,GAAGN,IAAI;QACP,CAACF,GAAG,GAAG;UACL,GAAGG,IAAI;UACPC,MAAM,EAAE,CAAC,GAAGD,IAAI,CAACC,MAAM,EAAEM,WAAW;QACtC;MACF,CAAC;IACH;;IAEA;IACA,IAAIH,IAAI,KAAK,QAAQ,EAAE;MACrB,IAAIJ,IAAI,CAACC,MAAM,CAACgB,MAAM,KAAK,CAAC,EAAE;QAC5BC,KAAK,CAAC,iBAAiB,CAAC;QACxB,OAAOnB,IAAI;MACb;MAEA,MAAMS,EAAE,GAAGF,MAAM,CAAC,YAAY,CAAC;MAC/B,MAAMG,IAAI,GAAGH,MAAM,CAAC,cAAc,CAAC;MACnC,IAAI,CAACE,EAAE,IAAI,CAACC,IAAI,EAAE,OAAOV,IAAI;MAE7B,MAAMoB,YAAY,GAAG;QACnBX,EAAE;QACFC,IAAI;QAEJC,QAAQ,EAAE;UACRC,IAAI,EAAE;YAAEC,CAAC,EAAEjB,EAAE;YAAEkB,CAAC,EAAEjB;UAAG;QACvB,CAAC;QAEDkB,QAAQ,EAAE,CAAC,CAAC;QAEZC,QAAQ,EAAE;UACRC,KAAK,EAAEP;QACT;MACF,CAAC;MAED,OAAO;QACL,GAAGV,IAAI;QACP,CAACF,GAAG,GAAG;UACL,GAAGG,IAAI;UACPE,OAAO,EAAE,CAAC,GAAGF,IAAI,CAACE,OAAO,EAAEiB,YAAY;QACzC;MACF,CAAC;IACH;IAEA,OAAOpB,IAAI;EACb,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}