{"ast":null,"code":"var _jsxFileName = \"/home/n/semantic_map_ui/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\n\n/* ===== MAP PARAMS ===== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRID_SIZE = 40; // px\nconst MAP_SIZE = 800; // px\nconst GRID_COUNT = MAP_SIZE / GRID_SIZE;\n\n/* ===== MAIN ===== */\nexport default function App() {\n  _s();\n  const [mode, setMode] = useState(\"place\"); // place | object\n  const [gridMap, setGridMap] = useState({});\n\n  /* ===== grid click ===== */\n  const handleGridClick = (gx, gy) => {\n    const key = `${gx},${gy}`;\n    if (mode === \"place\") {\n      const place = prompt(\"place name?\");\n      if (!place) return;\n      setGridMap(prev => {\n        var _prev$key;\n        return {\n          ...prev,\n          [key]: {\n            place,\n            objects: ((_prev$key = prev[key]) === null || _prev$key === void 0 ? void 0 : _prev$key.objects) || []\n          }\n        };\n      });\n    }\n    if (mode === \"object\") {\n      if (!gridMap[key]) {\n        alert(\"이 grid에 place가 먼저 필요함\");\n        return;\n      }\n      const id = prompt(\"object id?\");\n      const type = prompt(\"object type?\");\n      if (!id || !type) return;\n      setGridMap(prev => ({\n        ...prev,\n        [key]: {\n          ...prev[key],\n          objects: [...prev[key].objects, {\n            id,\n            type\n          }]\n        }\n      }));\n    }\n  };\n\n  /* ===== JSON 저장 ===== */\n  const saveJSON = () => {\n    const blob = new Blob([JSON.stringify({\n      grid: gridMap\n    }, null, 2)], {\n      type: \"application/json\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"semantic_grid_map.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: MAP_SIZE,\n        height: MAP_SIZE,\n        backgroundImage: \"url('/map.png')\",\n        backgroundSize: \"cover\",\n        position: \"relative\",\n        border: \"1px solid black\"\n      },\n      onClick: e => {\n        const rect = e.currentTarget.getBoundingClientRect();\n        const px = e.clientX - rect.left;\n        const py = e.clientY - rect.top;\n        const gx = Math.floor(px / GRID_SIZE);\n        const gy = Math.floor(py / GRID_SIZE);\n        handleGridClick(gx, gy);\n      },\n      children: [[...Array(GRID_COUNT)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: i * GRID_SIZE,\n          top: 0,\n          width: 1,\n          height: \"100%\",\n          background: \"rgba(0,0,0,0.2)\"\n        }\n      }, `v${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)), [...Array(GRID_COUNT)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: i * GRID_SIZE,\n          left: 0,\n          height: 1,\n          width: \"100%\",\n          background: \"rgba(0,0,0,0.2)\"\n        }\n      }, `h${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)), Object.entries(gridMap).map(([key, val]) => {\n        const [gx, gy] = key.split(\",\").map(Number);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: gx * GRID_SIZE,\n            top: gy * GRID_SIZE,\n            width: GRID_SIZE,\n            height: GRID_SIZE,\n            background: \"rgba(0,255,0,0.25)\"\n          },\n          title: val.place\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: 20,\n        width: 450\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(\"place\"),\n        children: \"Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(\"object\"),\n        children: \"Object\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveJSON,\n        children: \"Save JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Semantic Grid JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          height: 600,\n          overflow: \"auto\"\n        },\n        children: JSON.stringify({\n          grid: gridMap\n        }, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"FvG5ofDhgxQmfRkVVZiAy+sBKoA=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","GRID_SIZE","MAP_SIZE","GRID_COUNT","App","_s","mode","setMode","gridMap","setGridMap","handleGridClick","gx","gy","key","place","prompt","prev","_prev$key","objects","alert","id","type","saveJSON","blob","Blob","JSON","stringify","grid","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","style","display","children","width","height","backgroundImage","backgroundSize","position","border","onClick","e","rect","currentTarget","getBoundingClientRect","px","clientX","left","py","clientY","top","Math","floor","Array","map","_","i","background","fileName","_jsxFileName","lineNumber","columnNumber","Object","entries","val","split","Number","title","marginLeft","overflow","_c","$RefreshReg$"],"sources":["/home/n/semantic_map_ui/src/App.js"],"sourcesContent":["import { useState } from \"react\";\n\n/* ===== MAP PARAMS ===== */\nconst GRID_SIZE = 40;      // px\nconst MAP_SIZE = 800;      // px\nconst GRID_COUNT = MAP_SIZE / GRID_SIZE;\n\n/* ===== MAIN ===== */\nexport default function App() {\n  const [mode, setMode] = useState(\"place\"); // place | object\n  const [gridMap, setGridMap] = useState({});\n\n  /* ===== grid click ===== */\n  const handleGridClick = (gx, gy) => {\n    const key = `${gx},${gy}`;\n\n    if (mode === \"place\") {\n      const place = prompt(\"place name?\");\n      if (!place) return;\n\n      setGridMap((prev) => ({\n        ...prev,\n        [key]: {\n          place,\n          objects: prev[key]?.objects || []\n        }\n      }));\n    }\n\n    if (mode === \"object\") {\n      if (!gridMap[key]) {\n        alert(\"이 grid에 place가 먼저 필요함\");\n        return;\n      }\n\n      const id = prompt(\"object id?\");\n      const type = prompt(\"object type?\");\n      if (!id || !type) return;\n\n      setGridMap((prev) => ({\n        ...prev,\n        [key]: {\n          ...prev[key],\n          objects: [\n            ...prev[key].objects,\n            { id, type }\n          ]\n        }\n      }));\n    }\n  };\n\n  /* ===== JSON 저장 ===== */\n  const saveJSON = () => {\n    const blob = new Blob(\n      [JSON.stringify({ grid: gridMap }, null, 2)],\n      { type: \"application/json\" }\n    );\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"semantic_grid_map.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div style={{ display: \"flex\" }}>\n      {/* MAP */}\n      <div\n        style={{\n          width: MAP_SIZE,\n          height: MAP_SIZE,\n          backgroundImage: \"url('/map.png')\",\n          backgroundSize: \"cover\",\n          position: \"relative\",\n          border: \"1px solid black\"\n        }}\n        onClick={(e) => {\n          const rect = e.currentTarget.getBoundingClientRect();\n          const px = e.clientX - rect.left;\n          const py = e.clientY - rect.top;\n          const gx = Math.floor(px / GRID_SIZE);\n          const gy = Math.floor(py / GRID_SIZE);\n          handleGridClick(gx, gy);\n        }}\n      >\n        {/* grid lines */}\n        {[...Array(GRID_COUNT)].map((_, i) => (\n          <div key={`v${i}`} style={{\n            position: \"absolute\",\n            left: i * GRID_SIZE,\n            top: 0,\n            width: 1,\n            height: \"100%\",\n            background: \"rgba(0,0,0,0.2)\"\n          }} />\n        ))}\n        {[...Array(GRID_COUNT)].map((_, i) => (\n          <div key={`h${i}`} style={{\n            position: \"absolute\",\n            top: i * GRID_SIZE,\n            left: 0,\n            height: 1,\n            width: \"100%\",\n            background: \"rgba(0,0,0,0.2)\"\n          }} />\n        ))}\n\n        {/* place color */}\n        {Object.entries(gridMap).map(([key, val]) => {\n          const [gx, gy] = key.split(\",\").map(Number);\n          return (\n            <div\n              key={key}\n              style={{\n                position: \"absolute\",\n                left: gx * GRID_SIZE,\n                top: gy * GRID_SIZE,\n                width: GRID_SIZE,\n                height: GRID_SIZE,\n                background: \"rgba(0,255,0,0.25)\"\n              }}\n              title={val.place}\n            />\n          );\n        })}\n      </div>\n\n      {/* PANEL */}\n      <div style={{ marginLeft: 20, width: 450 }}>\n        <h3>Mode</h3>\n        <button onClick={() => setMode(\"place\")}>Place</button>\n        <button onClick={() => setMode(\"object\")}>Object</button>\n        <button onClick={saveJSON}>Save JSON</button>\n\n        <h3>Semantic Grid JSON</h3>\n        <pre style={{ height: 600, overflow: \"auto\" }}>\n{JSON.stringify({ grid: gridMap }, null, 2)}\n        </pre>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}