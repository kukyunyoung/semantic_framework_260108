{"ast":null,"code":"var _jsxFileName = \"/home/n/semantic_map_ui/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRID_SIZE = 20;\nconst MAP_RESOLUTION = 0.05;\nconst MAP_ORIGIN = {\n  x: -5.0,\n  y: -5.0\n};\nfunction MapCanvas({\n  onGridClick\n}) {\n  const handleClick = e => {\n    const rect = e.target.getBoundingClientRect();\n    const px = e.clientX - rect.left;\n    const py = e.clientY - rect.top;\n    const gx = Math.floor(px / GRID_SIZE);\n    const gy = Math.floor(py / GRID_SIZE);\n    const wx = gx * GRID_SIZE * MAP_RESOLUTION + MAP_ORIGIN.x;\n    const wy = gy * GRID_SIZE * MAP_RESOLUTION + MAP_ORIGIN.y;\n    onGridClick({\n      wx,\n      wy\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleClick,\n    style: {\n      width: 800,\n      height: 800,\n      backgroundImage: \"url('/map.png')\",\n      backgroundSize: \"cover\",\n      border: \"1px solid black\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n}\n_c = MapCanvas;\nexport default function App() {\n  _s();\n  const [semanticMap, setSemanticMap] = useState({\n    objects: [],\n    places: []\n  });\n  const handleClick = ({\n    wx,\n    wy\n  }) => {\n    const id = prompt(\"id?\");\n    const type = prompt(\"type?\");\n    setSemanticMap(prev => ({\n      ...prev,\n      objects: [...prev.objects, {\n        id,\n        type,\n        position: {\n          x: wx,\n          y: wy\n        }\n      }]\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(MapCanvas, {\n      onGridClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      style: {\n        marginLeft: 20\n      },\n      children: JSON.stringify(semanticMap, null, 2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"AH6rVS2EAKegLSMVcTJPmCRO/aY=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapCanvas\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","GRID_SIZE","MAP_RESOLUTION","MAP_ORIGIN","x","y","MapCanvas","onGridClick","handleClick","e","rect","target","getBoundingClientRect","px","clientX","left","py","clientY","top","gx","Math","floor","gy","wx","wy","onClick","style","width","height","backgroundImage","backgroundSize","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s","semanticMap","setSemanticMap","objects","places","id","prompt","type","prev","position","display","children","marginLeft","JSON","stringify","_c2","$RefreshReg$"],"sources":["/home/n/semantic_map_ui/src/App.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst GRID_SIZE = 20;\nconst MAP_RESOLUTION = 0.05;\nconst MAP_ORIGIN = { x: -5.0, y: -5.0 };\n\nfunction MapCanvas({ onGridClick }) {\n  const handleClick = (e) => {\n    const rect = e.target.getBoundingClientRect();\n    const px = e.clientX - rect.left;\n    const py = e.clientY - rect.top;\n\n    const gx = Math.floor(px / GRID_SIZE);\n    const gy = Math.floor(py / GRID_SIZE);\n\n    const wx = gx * GRID_SIZE * MAP_RESOLUTION + MAP_ORIGIN.x;\n    const wy = gy * GRID_SIZE * MAP_RESOLUTION + MAP_ORIGIN.y;\n\n    onGridClick({ wx, wy });\n  };\n\n  return (\n    <div\n      onClick={handleClick}\n      style={{\n        width: 800,\n        height: 800,\n        backgroundImage: \"url('/map.png')\",\n        backgroundSize: \"cover\",\n        border: \"1px solid black\"\n      }}\n    />\n  );\n}\n\nexport default function App() {\n  const [semanticMap, setSemanticMap] = useState({\n    objects: [],\n    places: []\n  });\n\n  const handleClick = ({ wx, wy }) => {\n    const id = prompt(\"id?\");\n    const type = prompt(\"type?\");\n\n    setSemanticMap((prev) => ({\n      ...prev,\n      objects: [\n        ...prev.objects,\n        {\n          id,\n          type,\n          position: { x: wx, y: wy }\n        }\n      ]\n    }));\n  };\n\n  return (\n    <div style={{ display: \"flex\" }}>\n      <MapCanvas onGridClick={handleClick} />\n      <pre style={{ marginLeft: 20 }}>\n        {JSON.stringify(semanticMap, null, 2)}\n      </pre>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}