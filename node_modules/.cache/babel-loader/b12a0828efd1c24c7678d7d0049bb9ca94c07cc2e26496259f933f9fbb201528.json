{"ast":null,"code":"var _jsxFileName = \"/home/n/semantic_map_ui/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRID_SIZE = 20;\nexport default function App() {\n  _s();\n  const [gridMap, setGridMap] = useState({});\n  const [mode, setMode] = useState(\"object\"); // object | place | robot\n\n  /* GRID CLICK */\n  const handleGridClick = (gx, gy) => {\n    const key = `${gx},${gy}`;\n    const entityType = mode;\n    const id = prompt(`${entityType} id?`);\n    if (!id) return;\n    const label = prompt(\"symbolic label?\");\n    const type = prompt(\"type?\");\n    const newEntity = {\n      id,\n      type,\n      explicit: {\n        grid: {\n          x: gx,\n          y: gy\n        }\n      },\n      implicit: {},\n      symbolic: {\n        label\n      }\n    };\n    setGridMap(prev => {\n      const cell = prev[key] || {\n        objects: [],\n        places: [],\n        robots: []\n      };\n      return {\n        ...prev,\n        [key]: {\n          ...cell,\n          [`${entityType}s`]: [...cell[`${entityType}s`], newEntity]\n        }\n      };\n    });\n  };\n\n  /* SAVE JSON */\n  const saveJSON = () => {\n    fetch(\"http://localhost:3001/semantic\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        grid: gridMap\n      }, null, 2)\n    }).then(() => alert(\"saved\"));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"TOSM Grid Annotation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(\"object\"),\n        children: \"Object\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(\"place\"),\n        children: \"Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(\"robot\"),\n        children: \"Robot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveJSON,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: `repeat(${GRID_SIZE}, 30px)`\n      },\n      children: Array.from({\n        length: GRID_SIZE * GRID_SIZE\n      }).map((_, i) => {\n        const gx = i % GRID_SIZE;\n        const gy = Math.floor(i / GRID_SIZE);\n        const key = `${gx},${gy}`;\n        const hasData = gridMap[key];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => handleGridClick(gx, gy),\n          style: {\n            width: 30,\n            height: 30,\n            border: \"1px solid #aaa\",\n            background: hasData ? \"#cce5ff\" : \"#fff\",\n            cursor: \"pointer\"\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rf9/m3Fr0XDbMrN5qT3Kw/FG/7Y=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","GRID_SIZE","App","_s","gridMap","setGridMap","mode","setMode","handleGridClick","gx","gy","key","entityType","id","prompt","label","type","newEntity","explicit","grid","x","y","implicit","symbolic","prev","cell","objects","places","robots","saveJSON","fetch","method","headers","body","JSON","stringify","then","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","display","gridTemplateColumns","Array","from","length","map","_","i","Math","floor","hasData","width","height","border","background","cursor","_c","$RefreshReg$"],"sources":["/home/n/semantic_map_ui/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nconst GRID_SIZE = 20;\n\nexport default function App() {\n  const [gridMap, setGridMap] = useState({});\n  const [mode, setMode] = useState(\"object\"); // object | place | robot\n\n\n  /* GRID CLICK */\n  const handleGridClick = (gx, gy) => {\n    const key = `${gx},${gy}`;\n\n    const entityType = mode;\n\n    const id = prompt(`${entityType} id?`);\n    if (!id) return;\n\n    const label = prompt(\"symbolic label?\");\n    const type = prompt(\"type?\");\n\n    const newEntity = {\n      id,\n      type,\n\n      explicit: {\n        grid: { x: gx, y: gy }\n      },\n\n      implicit: {},\n\n      symbolic: {\n        label\n      }\n    };\n\n    setGridMap(prev => {\n      const cell = prev[key] || {\n        objects: [],\n        places: [],\n        robots: []\n      };\n\n      return {\n        ...prev,\n        [key]: {\n          ...cell,\n          [`${entityType}s`]: [...cell[`${entityType}s`], newEntity]\n        }\n      };\n    });\n  };\n\n  /* SAVE JSON */\n  const saveJSON = () => {\n    fetch(\"http://localhost:3001/semantic\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ grid: gridMap }, null, 2)\n    }).then(() => alert(\"saved\"));\n  };\n\n  return (\n    <div>\n      <h3>TOSM Grid Annotation</h3>\n\n      <div>\n        <button onClick={() => setMode(\"object\")}>Object</button>\n        <button onClick={() => setMode(\"place\")}>Place</button>\n        <button onClick={() => setMode(\"robot\")}>Robot</button>\n        <button onClick={saveJSON}>Save</button>\n      </div>\n\n      <div style={{ display: \"grid\", gridTemplateColumns: `repeat(${GRID_SIZE}, 30px)` }}>\n        {Array.from({ length: GRID_SIZE * GRID_SIZE }).map((_, i) => {\n          const gx = i % GRID_SIZE;\n          const gy = Math.floor(i / GRID_SIZE);\n          const key = `${gx},${gy}`;\n          const hasData = gridMap[key];\n\n          return (\n            <div\n              key={i}\n              onClick={() => handleGridClick(gx, gy)}\n              style={{\n                width: 30,\n                height: 30,\n                border: \"1px solid #aaa\",\n                background: hasData ? \"#cce5ff\" : \"#fff\",\n                cursor: \"pointer\"\n              }}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}