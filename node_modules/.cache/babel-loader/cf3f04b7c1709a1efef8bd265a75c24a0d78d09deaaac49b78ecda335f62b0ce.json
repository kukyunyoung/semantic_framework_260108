{"ast":null,"code":"var _jsxFileName = \"/home/n/semantic_map_ui/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\n\n/* ===== MAP PARAMS ===== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GRID_SIZE = 20;\nconst MAP_SIZE = 800;\nconst GRID_COUNT = MAP_SIZE / GRID_SIZE;\nfunction App() {\n  _s();\n  const [mode, setMode] = useState(\"place\"); // place | object\n  const [gridMap, setGridMap] = useState({});\n  const [selectedCells, setSelectedCells] = useState([]);\n  const [isDragging, setIsDragging] = useState(false);\n  const draggedRef = useRef(false);\n\n  /* ===== JSON LOAD ===== */\n  useEffect(() => {\n    fetch(\"/semantic_grid_map.json\").then(res => res.ok ? res.json() : null).then(data => {\n      if (data !== null && data !== void 0 && data.grid) setGridMap(data.grid);\n    }).catch(() => console.log(\"no json\"));\n  }, []);\n\n  /* ===== GRID SORT (y desc ‚Üí x desc) ===== */\n  const sortGridDesc = grid => {\n    return Object.fromEntries(Object.entries(grid).sort(([a], [b]) => {\n      const [ax, ay] = a.split(\",\").map(Number);\n      const [bx, by] = b.split(\",\").map(Number);\n      if (ay !== by) return by - ay;\n      return bx - ax;\n    }));\n  };\n\n  /* ===== JSON SAVE ===== */\n  const saveJSON = () => {\n    const sortedGrid = sortGridDesc(gridMap);\n    const blob = new Blob([JSON.stringify({\n      grid: sortedGrid\n    }, null, 2)], {\n      type: \"application/json\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"semantic_grid_map.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  /* ===== GRID CLICK (ÏÑ†ÌÉùÎßå Îã¥Îãπ) ===== */\n  const handleGridClick = (gx, gy) => {\n    const exists = selectedCells.some(c => c.x === gx && c.y === gy);\n    if (exists) {\n      setSelectedCells(prev => prev.filter(c => !(c.x === gx && c.y === gy)));\n    } else {\n      setSelectedCells(prev => [...prev, {\n        x: gx,\n        y: gy\n      }]);\n    }\n  };\n\n  /* ===== GET GRID FROM MOUSE ===== */\n  const getGridFromMouse = e => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n    const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n    return {\n      gx,\n      gy\n    };\n  };\n  const addSelectedCell = (gx, gy) => {\n    setSelectedCells(prev => {\n      if (prev.some(c => c.x === gx && c.y === gy)) return prev;\n      return [...prev, {\n        x: gx,\n        y: gy\n      }];\n    });\n  };\n\n  /* ===== APPLY PLACE ===== */\n  const applyPlaceToSelected = () => {\n    if (selectedCells.length === 0) return;\n    const name = prompt(\"place name?\");\n    const relation = prompt(\"relation?\");\n    if (!name) return;\n    setGridMap(prev => {\n      const updated = {\n        ...prev\n      };\n      selectedCells.forEach(({\n        x,\n        y\n      }) => {\n        const key = `${x},${y}`;\n        const cell = updated[key] || {\n          places: [],\n          objects: [],\n          robots: []\n        };\n        updated[key] = {\n          ...cell,\n          places: [...cell.places, {\n            id: name,\n            type: \"place\",\n            explicit: {\n              grid: {\n                x,\n                y\n              }\n            },\n            implicit: {\n              relation: relation || \"none\"\n            },\n            symbolic: {\n              label: name\n            }\n          }]\n        };\n      });\n      return updated;\n    });\n    setSelectedCells([]);\n  };\n\n  /* ===== APPLY OBJECT ===== */\n  const applyObjectToSelected = () => {\n    if (selectedCells.length === 0) return;\n    const id = prompt(\"object id?\");\n    const type = prompt(\"object type?\");\n    const relation = prompt(\"relation?\");\n    if (!id || !type) return;\n    setGridMap(prev => {\n      const updated = {\n        ...prev\n      };\n      selectedCells.forEach(({\n        x,\n        y\n      }) => {\n        const key = `${x},${y}`;\n        const cell = updated[key];\n        if (!cell || cell.places.length === 0) return;\n        updated[key] = {\n          ...cell,\n          objects: [...cell.objects, {\n            id,\n            type,\n            explicit: {\n              grid: {\n                x,\n                y\n              }\n            },\n            implicit: {\n              relation: relation || \"none\"\n            },\n            symbolic: {\n              label: type\n            }\n          }]\n        };\n      });\n      return updated;\n    });\n    setSelectedCells([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: MAP_SIZE,\n        height: MAP_SIZE,\n        backgroundImage: \"url('/map.png')\",\n        backgroundSize: `${MAP_SIZE}px ${MAP_SIZE}px`,\n        backgroundRepeat: \"no-repeat\",\n        position: \"relative\",\n        border: \"1px solid black\"\n      },\n      onMouseDown: e => {\n        draggedRef.current = false;\n        setIsDragging(true);\n        const rect = e.currentTarget.getBoundingClientRect();\n        const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n        const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n        addSelectedCell(gx, gy);\n      },\n      onMouseMove: e => {\n        if (!isDragging) return;\n        draggedRef.current = true; // ‚≠ê ÎìúÎûòÍ∑∏ Î∞úÏÉù Í∏∞Î°ù\n\n        const rect = e.currentTarget.getBoundingClientRect();\n        const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n        const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n        addSelectedCell(gx, gy);\n      },\n      onMouseUp: e => {\n        setIsDragging(false);\n        const rect = e.currentTarget.getBoundingClientRect();\n        const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n        const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n\n        // ‚≠ê ÎìúÎûòÍ∑∏ Ïïà ÌñàÏùÑ ÎïåÎßå toggle\n        if (!draggedRef.current) {\n          handleGridClick(gx, gy);\n        }\n      },\n      onMouseLeave: () => {\n        setIsDragging(false);\n        draggedRef.current = false;\n      },\n      children: [[...Array(GRID_COUNT)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: i * GRID_SIZE,\n          top: 0,\n          width: 1,\n          height: \"100%\",\n          background: \"rgba(0,0,0,0.2)\"\n        }\n      }, `v${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this)), [...Array(GRID_COUNT)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          top: i * GRID_SIZE,\n          left: 0,\n          height: 1,\n          width: \"100%\",\n          background: \"rgba(0,0,0,0.2)\"\n        }\n      }, `h${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)), Object.entries(gridMap).map(([key, val]) => {\n        var _place$symbolic;\n        if (!val.places || val.places.length === 0) return null;\n        const [gx, gy] = key.split(\",\").map(Number);\n        const place = val.places[0]; // ÌòÑÏû¨ ÏÖÄÏùò ÎåÄÌëú place\n        const hasObject = val.objects && val.objects.length > 0;\n        const isPath = ((_place$symbolic = place.symbolic) === null || _place$symbolic === void 0 ? void 0 : _place$symbolic.category) === \"path\";\n        let bgColor = \"rgba(255,255,255,0.0)\";\n        if (isPath) {\n          bgColor = \"rgba(255,0,0,0.25)\"; // üî¥ path\n        } else if (hasObject) {\n          bgColor = \"rgba(0,255,0,0.25)\"; // üü¢ object ÏûàÏùå\n        } else {\n          bgColor = \"rgba(255,255,0,0.35)\"; // üü° placeÎßå ÏûàÏùå\n        }\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: gx * GRID_SIZE,\n            top: gy * GRID_SIZE,\n            width: GRID_SIZE,\n            height: GRID_SIZE,\n            background: bgColor,\n            pointerEvents: \"none\"\n          }\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 5\n        }, this);\n      }), selectedCells.map(({\n        x,\n        y\n      }) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"absolute\",\n          left: x * GRID_SIZE,\n          top: y * GRID_SIZE,\n          width: GRID_SIZE,\n          height: GRID_SIZE,\n          background: \"rgba(0,0,255,0.35)\",\n          pointerEvents: \"none\"\n        }\n      }, `sel-${x},${y}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginLeft: 20,\n        width: 420\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Mode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(\"place\"),\n        children: \"Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setMode(\"object\"),\n        children: \"Object\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: mode === \"place\" ? applyPlaceToSelected : applyObjectToSelected,\n        children: \"Apply to Selected Cells\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: saveJSON,\n        style: {\n          marginLeft: 10\n        },\n        children: \"Save JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          height: 600,\n          overflow: \"auto\"\n        },\n        children: JSON.stringify({\n          grid: gridMap\n        }, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"py1FHL92Lxx/TlhDMwmZDnB4HHc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","useRef","jsxDEV","_jsxDEV","GRID_SIZE","MAP_SIZE","GRID_COUNT","App","_s","mode","setMode","gridMap","setGridMap","selectedCells","setSelectedCells","isDragging","setIsDragging","draggedRef","fetch","then","res","ok","json","data","grid","catch","console","log","sortGridDesc","Object","fromEntries","entries","sort","a","b","ax","ay","split","map","Number","bx","by","saveJSON","sortedGrid","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","handleGridClick","gx","gy","exists","some","c","x","y","prev","filter","getGridFromMouse","e","rect","currentTarget","getBoundingClientRect","Math","floor","clientX","left","clientY","top","addSelectedCell","applyPlaceToSelected","length","name","prompt","relation","updated","forEach","key","cell","places","objects","robots","id","explicit","implicit","symbolic","label","applyObjectToSelected","style","display","children","width","height","backgroundImage","backgroundSize","backgroundRepeat","position","border","onMouseDown","current","onMouseMove","onMouseUp","onMouseLeave","Array","_","i","background","fileName","_jsxFileName","lineNumber","columnNumber","val","_place$symbolic","place","hasObject","isPath","category","bgColor","pointerEvents","marginLeft","onClick","overflow","_c","$RefreshReg$"],"sources":["/home/n/semantic_map_ui/src/App.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\n\n\n/* ===== MAP PARAMS ===== */\nconst GRID_SIZE = 20;\nconst MAP_SIZE = 800;\nconst GRID_COUNT = MAP_SIZE / GRID_SIZE;\n\nfunction App() {\n  const [mode, setMode] = useState(\"place\"); // place | object\n  const [gridMap, setGridMap] = useState({});\n  const [selectedCells, setSelectedCells] = useState([]);\n  const [isDragging, setIsDragging] = useState(false);\n  const draggedRef = useRef(false);\n  \n\n  /* ===== JSON LOAD ===== */\n  useEffect(() => {\n    fetch(\"/semantic_grid_map.json\")\n      .then(res => (res.ok ? res.json() : null))\n      .then(data => {\n        if (data?.grid) setGridMap(data.grid);\n      })\n      .catch(() => console.log(\"no json\"));\n  }, []);\n\n  /* ===== GRID SORT (y desc ‚Üí x desc) ===== */\n  const sortGridDesc = (grid) => {\n    return Object.fromEntries(\n      Object.entries(grid).sort(([a], [b]) => {\n        const [ax, ay] = a.split(\",\").map(Number);\n        const [bx, by] = b.split(\",\").map(Number);\n        if (ay !== by) return by - ay;\n        return bx - ax;\n      })\n    );\n  };\n\n  /* ===== JSON SAVE ===== */\n  const saveJSON = () => {\n    const sortedGrid = sortGridDesc(gridMap);\n\n    const blob = new Blob(\n      [JSON.stringify({ grid: sortedGrid }, null, 2)],\n      { type: \"application/json\" }\n    );\n\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = \"semantic_grid_map.json\";\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  /* ===== GRID CLICK (ÏÑ†ÌÉùÎßå Îã¥Îãπ) ===== */\n  const handleGridClick = (gx, gy) => {\n    const exists = selectedCells.some(c => c.x === gx && c.y === gy);\n\n    if (exists) {\n      setSelectedCells(prev =>\n        prev.filter(c => !(c.x === gx && c.y === gy))\n      );\n    } else {\n      setSelectedCells(prev => [...prev, { x: gx, y: gy }]);\n    }\n  };\n\n  /* ===== GET GRID FROM MOUSE ===== */\n  const getGridFromMouse = (e) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n    const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n    return { gx, gy };\n  };\n\n  const addSelectedCell = (gx, gy) => {\n    setSelectedCells(prev => {\n      if (prev.some(c => c.x === gx && c.y === gy)) return prev;\n      return [...prev, { x: gx, y: gy }];\n    });\n  };\n\n\n  /* ===== APPLY PLACE ===== */\n  const applyPlaceToSelected = () => {\n    if (selectedCells.length === 0) return;\n\n    const name = prompt(\"place name?\");\n    const relation = prompt(\"relation?\");\n    if (!name) return;\n\n    setGridMap(prev => {\n      const updated = { ...prev };\n\n      selectedCells.forEach(({ x, y }) => {\n        const key = `${x},${y}`;\n        const cell = updated[key] || { places: [], objects: [], robots: [] };\n\n        updated[key] = {\n          ...cell,\n          places: [\n            ...cell.places,\n            {\n              id: name,\n              type: \"place\",\n              explicit: { grid: { x, y } },\n              implicit: { relation: relation || \"none\" },\n              symbolic: { label: name }\n            }\n          ]\n        };\n      });\n\n      return updated;\n    });\n\n    setSelectedCells([]);\n  };\n\n  /* ===== APPLY OBJECT ===== */\n  const applyObjectToSelected = () => {\n    if (selectedCells.length === 0) return;\n\n    const id = prompt(\"object id?\");\n    const type = prompt(\"object type?\");\n    const relation = prompt(\"relation?\");\n    if (!id || !type) return;\n\n    setGridMap(prev => {\n      const updated = { ...prev };\n\n      selectedCells.forEach(({ x, y }) => {\n        const key = `${x},${y}`;\n        const cell = updated[key];\n        if (!cell || cell.places.length === 0) return;\n\n        updated[key] = {\n          ...cell,\n          objects: [\n            ...cell.objects,\n            {\n              id,\n              type,\n              explicit: { grid: { x, y } },\n              implicit: { relation: relation || \"none\" },\n              symbolic: { label: type }\n            }\n          ]\n        };\n      });\n\n      return updated;\n    });\n\n    setSelectedCells([]);\n  };\n\n  return (\n    <div style={{ display: \"flex\" }}>\n      {/* MAP */}\n      <div\n  style={{\n    width: MAP_SIZE,\n    height: MAP_SIZE,\n    backgroundImage: \"url('/map.png')\",\n    backgroundSize: `${MAP_SIZE}px ${MAP_SIZE}px`,\n    backgroundRepeat: \"no-repeat\",\n    position: \"relative\",\n    border: \"1px solid black\"\n  }}\n\n  onMouseDown={e => {\n    draggedRef.current = false;\n  setIsDragging(true);\n\n  const rect = e.currentTarget.getBoundingClientRect();\n  const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n  const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n\n  addSelectedCell(gx, gy);\n  }}\n\n  onMouseMove={e => {\n    if (!isDragging) return;\n\n  draggedRef.current = true; // ‚≠ê ÎìúÎûòÍ∑∏ Î∞úÏÉù Í∏∞Î°ù\n\n  const rect = e.currentTarget.getBoundingClientRect();\n  const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n  const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n\n  addSelectedCell(gx, gy);\n  }}\n\n  onMouseUp={e => {\n    setIsDragging(false);\n\n  const rect = e.currentTarget.getBoundingClientRect();\n  const gx = Math.floor((e.clientX - rect.left) / GRID_SIZE);\n  const gy = Math.floor((e.clientY - rect.top) / GRID_SIZE);\n\n  // ‚≠ê ÎìúÎûòÍ∑∏ Ïïà ÌñàÏùÑ ÎïåÎßå toggle\n  if (!draggedRef.current) {\n    handleGridClick(gx, gy);\n  }\n  }}\n\nonMouseLeave={() => {\n  setIsDragging(false);\n  draggedRef.current = false;\n}}\n>\n\n\n        {/* GRID LINES */}\n        {[...Array(GRID_COUNT)].map((_, i) => (\n          <div\n            key={`v${i}`}\n            style={{\n              position: \"absolute\",\n              left: i * GRID_SIZE,\n              top: 0,\n              width: 1,\n              height: \"100%\",\n              background: \"rgba(0,0,0,0.2)\"\n            }}\n          />\n        ))}\n        {[...Array(GRID_COUNT)].map((_, i) => (\n          <div\n            key={`h${i}`}\n            style={{\n              position: \"absolute\",\n              top: i * GRID_SIZE,\n              left: 0,\n              height: 1,\n              width: \"100%\",\n              background: \"rgba(0,0,0,0.2)\"\n            }}\n          />\n        ))}\n\n        {/* PLACE / OBJECT VIS */}\n{Object.entries(gridMap).map(([key, val]) => {\n  if (!val.places || val.places.length === 0) return null;\n\n  const [gx, gy] = key.split(\",\").map(Number);\n\n  const place = val.places[0]; // ÌòÑÏû¨ ÏÖÄÏùò ÎåÄÌëú place\n  const hasObject = val.objects && val.objects.length > 0;\n  const isPath = place.symbolic?.category === \"path\";\n\n  let bgColor = \"rgba(255,255,255,0.0)\";\n\n  if (isPath) {\n    bgColor = \"rgba(255,0,0,0.25)\";        // üî¥ path\n  } else if (hasObject) {\n    bgColor = \"rgba(0,255,0,0.25)\";        // üü¢ object ÏûàÏùå\n  } else {\n    bgColor = \"rgba(255,255,0,0.35)\";      // üü° placeÎßå ÏûàÏùå\n  }\n\n  return (\n    <div\n      key={key}\n      style={{\n        position: \"absolute\",\n        left: gx * GRID_SIZE,\n        top: gy * GRID_SIZE,\n        width: GRID_SIZE,\n        height: GRID_SIZE,\n        background: bgColor,\n        pointerEvents: \"none\"\n      }}\n    />\n  );\n})}\n\n\n\n        {/* SELECTED VIS */}\n        {selectedCells.map(({ x, y }) => (\n          <div\n            key={`sel-${x},${y}`}\n            style={{\n              position: \"absolute\",\n              left: x * GRID_SIZE,\n              top: y * GRID_SIZE,\n              width: GRID_SIZE,\n              height: GRID_SIZE,\n              background: \"rgba(0,0,255,0.35)\",\n              pointerEvents: \"none\"\n            }}\n          />\n        ))}\n      </div>\n\n      {/* ===== PANEL ===== */}\n      <div style={{ marginLeft: 20, width: 420 }}>\n        <h3>Mode</h3>\n        <button onClick={() => setMode(\"place\")}>Place</button>\n        <button onClick={() => setMode(\"object\")}>Object</button>\n\n        <br /><br />\n\n        <button\n          onClick={mode === \"place\"\n            ? applyPlaceToSelected\n            : applyObjectToSelected}\n        >\n          Apply to Selected Cells\n        </button>\n\n        <button onClick={saveJSON} style={{ marginLeft: 10 }}>\n          Save JSON\n        </button>\n\n        <pre style={{ height: 600, overflow: \"auto\" }}>\n          {JSON.stringify({ grid: gridMap }, null, 2)}\n        </pre>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}